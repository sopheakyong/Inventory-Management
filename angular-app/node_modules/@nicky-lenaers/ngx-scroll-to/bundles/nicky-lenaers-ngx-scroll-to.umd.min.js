!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs")):"function"==typeof define&&define.amd?define("@nicky-lenaers/ngx-scroll-to",["exports","@angular/core","@angular/common","rxjs"],e):e(((t=t||self)["nicky-lenaers"]=t["nicky-lenaers"]||{},t["nicky-lenaers"]["ngx-scroll-to"]={}),t.ng.core,t.ng.common,t.rxjs)}(this,(function(t,e,n,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r=function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function i(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function s(t,e){return function(n,o){e(n,o,t)}}var a={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},u={easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutElastic:function(t){return Math.pow(2,-10*t)*Math.sin((t-1/4)*(2*Math.PI)/1)+1}},c=["click","mouseenter","mouseover","mousedown","mouseup","dblclick","contextmenu","wheel","mouseleave","mouseout"];function l(t){return t===window}var p=function(){function t(t,e,n,r,i,s){var a=this;this.container=t,this.listenerTarget=e,this.isWindow=n,this.to=r,this.options=i,this.isBrowser=s,this.loop=function(){a.timeLapsed+=a.tick,a.percentage=a.timeLapsed/a.options.duration,a.percentage=a.percentage>1?1:a.percentage,a.position=a.startPosition+(a.startPosition-a.to<=0?1:-1)*a.distance*u[a.options.easing](a.percentage),null!==a.lastPosition&&a.position===a.lastPosition?a.stop():(a.source$.next(a.position),a.isWindow?a.listenerTarget.scrollTo(0,Math.floor(a.position)):a.container.scrollTop=Math.floor(a.position),a.lastPosition=a.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.container?this.startPosition=this.isWindow?this.windowScrollTop:this.container.scrollTop:this.startPosition=this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);var c=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((function(t,e){return a.mappedOffset=window.innerWidth>e?t:a.mappedOffset})),this.distance+=this.mappedOffset*(c<=0?1:-1),this.source$=new o.ReplaySubject}return t.prototype.start=function(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()},t.prototype.stop=function(){clearInterval(this.interval),this.interval=null,this.source$.complete()},t}(),f=function(){function t(t,e){this.document=t,this.platformId=e,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}return t.prototype.scrollTo=function(t){return n.isPlatformBrowser(this.platformId)?this.start(t):(new o.ReplaySubject).asObservable()},t.prototype.start=function(t){var e=this,i=r(r({},a),t);this.animation&&this.animation.stop();var s=this.getNode(i.target);if(i.target&&!s)return o.throwError("Unable to find Target Element");var u=this.getContainer(i,s);if(i.container&&!u)return o.throwError("Unable to find Container Element");var c=this.getListenerTarget(u)||window,f=u?u.getBoundingClientRect().top:0;s&&(f=l(c)?window.scrollY+s.getBoundingClientRect().top:s.getBoundingClientRect().top),this.animation=new p(u,c,l(c),f,i,n.isPlatformBrowser(this.platformId));var d=function(){return e.animation.stop()};this.addInterruptiveEventListeners(c,d);var h=this.animation.start();return this.subscribeToAnimation(h,c,d),h},t.prototype.subscribeToAnimation=function(t,e,n){var o=this,r=t.subscribe((function(){}),(function(){}),(function(){o.removeInterruptiveEventListeners(o.interruptiveEvents,e,n),r.unsubscribe()}))},t.prototype.getContainer=function(t,e){var n=null;return t.container?n=this.getNode(t.container,!0):e&&(n=this.getFirstScrollableParent(e)),n},t.prototype.addInterruptiveEventListeners=function(t,e){var n=this;t||(t=window),this.interruptiveEvents.forEach((function(o){return t.addEventListener(o,e,!!n.supportPassive()&&{passive:!0})}))},t.prototype.supportPassive=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t},t.prototype.removeInterruptiveEventListeners=function(t,e,n){e||(e=window),t.forEach((function(t){return e.removeEventListener(t,n)}))},t.prototype.getFirstScrollableParent=function(t){var e=window.getComputedStyle(t),n=/(auto|scroll|overlay)/;if("fixed"===e.position)return null;for(var o=t;o.parentElement;)if(o=o.parentElement,"absolute"!==(e=window.getComputedStyle(o)).position&&"hidden"!==e.overflow&&"hidden"!==e.overflowY&&(n.test(e.overflow+e.overflowY)||"BODY"===o.tagName))return o;return null},t.prototype.getNode=function(t,n){var o,r;return void 0===n&&(n=!1),"string"==typeof(r=t)||r instanceof String?o=!n||"body"!==t&&"BODY"!==t?this.document.getElementById(function(t){return"#"===t.substring(0,1)?t.substring(1):t}(t)):this.document.body:!function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t)?!function(t){return t instanceof e.ElementRef}(t)?function(t){return t instanceof HTMLElement}(t)&&(o=t):o=t.nativeElement:o=this.document.getElementById(String(t)),o},t.prototype.getListenerTarget=function(t){return t?this.isDocumentBody(t)?window:t:null},t.prototype.isDocumentBody=function(t){return"BODY"===t.tagName.toUpperCase()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[n.DOCUMENT]}]},{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t=i([e.Injectable(),s(0,e.Inject(n.DOCUMENT)),s(1,e.Inject(e.PLATFORM_ID))],t)}(),d=function(){function t(t,e,n){this.elementRef=t,this.scrollToService=e,this.renderer2=n,this.ngxScrollTo=a.target,this.ngxScrollToEvent=a.action,this.ngxScrollToDuration=a.duration,this.ngxScrollToEasing=a.easing,this.ngxScrollToOffset=a.offset,this.ngxScrollToOffsetMap=a.offsetMap}return t.prototype.ngAfterViewInit=function(){var t=this;if(-1===c.indexOf(this.ngxScrollToEvent))throw new Error("Unsupported Event '"+this.ngxScrollToEvent+"'");this.renderer2.listen(this.elementRef.nativeElement,this.ngxScrollToEvent,(function(e){t.options={target:t.ngxScrollTo,duration:t.ngxScrollToDuration,easing:t.ngxScrollToEasing,offset:t.ngxScrollToOffset,offsetMap:t.ngxScrollToOffsetMap},t.scrollToService.scrollTo(t.options)}))},t.ctorParameters=function(){return[{type:e.ElementRef},{type:f},{type:e.Renderer2}]},i([e.Input()],t.prototype,"ngxScrollTo",void 0),i([e.Input()],t.prototype,"ngxScrollToEvent",void 0),i([e.Input()],t.prototype,"ngxScrollToDuration",void 0),i([e.Input()],t.prototype,"ngxScrollToEasing",void 0),i([e.Input()],t.prototype,"ngxScrollToOffset",void 0),i([e.Input()],t.prototype,"ngxScrollToOffsetMap",void 0),t=i([e.Directive({selector:"[ngxScrollTo]"})],t)}(),h=function(){function t(){}var n;return n=t,t.forRoot=function(){return{ngModule:n,providers:[f]}},t=n=i([e.NgModule({declarations:[d],exports:[d]})],t)}();t.ScrollToDirective=d,t.ScrollToModule=h,t.ScrollToService=f,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=nicky-lenaers-ngx-scroll-to.umd.min.js.map